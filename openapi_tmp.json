{"openapi":"3.1.0","info":{"title":"경기도의회 실시간 자막 서비스","description":"경기도의회 회의 영상에 실시간/VOD 자막을 제공하는 API","version":"0.1.0"},"paths":{"/api/channels":{"get":{"tags":["channels"],"summary":"List Channels","description":"전체 채널 목록을 반환합니다.","operationId":"list_channels_api_channels_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List Channels Api Channels Get"}}}}}}},"/api/channels/status":{"get":{"tags":["channels"],"summary":"Get Channels Status","description":"전체 채널 + 실시간 방송 상태를 반환합니다.\n\n부수효과: 방송중인데 STT가 꺼진 채널이 있으면 백그라운드에서 자동 시작합니다.","operationId":"get_channels_status_api_channels_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Channels Status Api Channels Status Get"}}}}}}},"/api/channels/status/stream":{"get":{"tags":["channels"],"summary":"Stream Channel Status","description":"SSE 스트림으로 채널 방송 상태 변경을 실시간 전송합니다.","operationId":"stream_channel_status_api_channels_status_stream_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/channels/{channel_id}/stt/start":{"post":{"tags":["channels"],"summary":"Start Channel Stt","description":"채널 STT 처리를 시작합니다.","operationId":"start_channel_stt_api_channels__channel_id__stt_start_post","parameters":[{"name":"channel_id","in":"path","required":true,"schema":{"type":"string","title":"Channel Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Start Channel Stt Api Channels  Channel Id  Stt Start Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/channels/{channel_id}/stt/stop":{"post":{"tags":["channels"],"summary":"Stop Channel Stt","description":"채널 STT 처리를 중지합니다.\n\nNOTE: AutoSttManager가 활성화되어 있으면 방송중인 채널의 STT를\n자동으로 재시작합니다. 클라이언트가 stop을 호출해도 방송중이면\n다음 폴링 시 보정됩니다.","operationId":"stop_channel_stt_api_channels__channel_id__stt_stop_post","parameters":[{"name":"channel_id","in":"path","required":true,"schema":{"type":"string","title":"Channel Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Stop Channel Stt Api Channels  Channel Id  Stt Stop Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/channels/{channel_id}/stt/status":{"get":{"tags":["channels"],"summary":"Get Channel Stt Status","description":"채널 STT 실행 상태를 확인합니다.","operationId":"get_channel_stt_status_api_channels__channel_id__stt_status_get","parameters":[{"name":"channel_id","in":"path","required":true,"schema":{"type":"string","title":"Channel Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Channel Stt Status Api Channels  Channel Id  Stt Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/channels/{channel_id}":{"get":{"tags":["channels"],"summary":"Get Channel By Id","description":"채널 ID로 채널을 조회합니다.","operationId":"get_channel_by_id_api_channels__channel_id__get","parameters":[{"name":"channel_id","in":"path","required":true,"schema":{"type":"string","title":"Channel Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Channel By Id Api Channels  Channel Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings":{"get":{"tags":["meetings"],"summary":"Get Meetings","description":"회의 목록을 조회합니다.","operationId":"get_meetings_api_meetings_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"회의 상태 필터 (콤마구분 가능: processing,ended)","title":"Status"},"description":"회의 상태 필터 (콤마구분 가능: processing,ended)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"조회할 개수","default":10,"title":"Limit"},"description":"조회할 개수"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"시작 위치","default":0,"title":"Offset"},"description":"시작 위치"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Meetings Api Meetings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["meetings"],"summary":"Create Meeting","description":"새 회의(VOD)를 등록합니다. KMS VOD URL은 자동으로 MP4 URL로 변환됩니다.","operationId":"create_meeting_api_meetings_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Meeting Api Meetings Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/live":{"get":{"tags":["meetings"],"summary":"Get Live Meeting","description":"현재 실시간 회의를 조회합니다. 채널로 필터 가능.","operationId":"get_live_meeting_api_meetings_live_get","parameters":[{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"채널 ID (예: ch14)","title":"Channel"},"description":"채널 ID (예: ch14)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"title":"Response Get Live Meeting Api Meetings Live Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}":{"get":{"tags":["meetings"],"summary":"Get Meeting By Id","description":"회의 ID로 회의를 조회합니다.","operationId":"get_meeting_by_id_api_meetings__meeting_id__get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Meeting By Id Api Meetings  Meeting Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/subtitles":{"get":{"tags":["subtitles"],"summary":"회의별 자막 목록 조회","description":"회의별 자막 목록을 조회합니다.","operationId":"get_subtitles_api_meetings__meeting_id__subtitles_get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Subtitles Api Meetings  Meeting Id  Subtitles Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/subtitles/search":{"get":{"tags":["subtitles"],"summary":"자막 내 키워드 검색","description":"자막 내 키워드를 검색합니다.","operationId":"search_subtitles_api_meetings__meeting_id__subtitles_search_get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}},{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"검색어","title":"Q"},"description":"검색어"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Search Subtitles Api Meetings  Meeting Id  Subtitles Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"루트 엔드포인트 - 서비스 상태 확인","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Root  Get"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"헬스체크 엔드포인트","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MeetingCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title","description":"회의 제목"},"meeting_date":{"type":"string","format":"date","title":"Meeting Date","description":"회의 날짜"},"stream_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stream Url","description":"실시간 스트림 URL"},"vod_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vod Url","description":"VOD URL"},"status":{"$ref":"#/components/schemas/MeetingStatus","description":"회의 상태","default":"scheduled"},"duration_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Seconds","description":"총 재생 시간 (초)"}},"type":"object","required":["title","meeting_date"],"title":"MeetingCreate","description":"회의 생성 요청 스키마"},"MeetingStatus":{"type":"string","enum":["scheduled","live","processing","ended"],"title":"MeetingStatus","description":"회의 상태 enum"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}